<div class="page">
  <form [formGroup]="formGroup" (ngSubmit)="register()">
    <h2>Registration</h2>
    <h3>
      Already have an account? <span (click)="showModal = true">Sign In</span>
    </h3>
    <div class="name">
      <div class="first-name">
        <app-input
          placeholder="Name"
          controlType="input"
          [control]="formGroup.get('name')"
        ></app-input>
      </div>
      <div class="last-name">
        <app-input
          placeholder="Last Name"
          controlType="input"
          [control]="formGroup.get('surname')"
        ></app-input>
      </div>
    </div>
    <app-input
      placeholder="Date Of Birthday (YYYY-MM-DD)"
      controlType="input"
      [control]="formGroup.get('dateOfBirthday')"
    ></app-input>
    <app-input
      placeholder="Email"
      controlType="input"
      [control]="formGroup.get('email')"
    ></app-input>
    <app-input
      placeholder="Password"
      controlType="input"
      inputType="password"
      [control]="formGroup.get('password')"
    ></app-input>
    <app-input
      placeholder="Confirm Password"
      controlType="input"
      inputType="password"
      [control]="formGroup.get('confirmPassword')"
    ></app-input>

    <div
      *ngIf="
        formGroup.get('password').touched &&
        formGroup.get('confirmPassword').touched &&
        formGroup.errors
      "
      class="errors"
    >
      <p class="error" *ngIf="formGroup.errors.passwordsDontMatch">
        Password's dont match.
      </p>
      <p *ngIf="formGroup.errors.noConnection">No Internet connection.</p>
      <p *ngIf="formGroup.errors.anotherError">Failure sign up.</p>
    </div>
    <button type="submit">Registration</button>
  </form>
</div>


<app-modal (dismiss)="showModal=false" *ngIf="showModal">
  <div modalTitle><h3>Sign In</h3></div>
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <app-input
      placeholder="Email"
      controlType="input"
      [control]="loginForm.get('email')"
    ></app-input>
    <app-input
      placeholder="Password"
      controlType="input"
      inputType="password"
      [control]="loginForm.get('password')"
    ></app-input>
    <button class="submit" (click)="login()">Submit</button>
  </form>
</app-modal>